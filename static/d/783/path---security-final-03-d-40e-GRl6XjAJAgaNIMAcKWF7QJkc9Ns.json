{"data":{"site":{"siteMetadata":{"title":"Thoughts on Things","author":"Michele Larson"}},"markdownRemark":{"id":"38aec991-a40f-510c-84c0-22dd27cca17f","excerpt":"Invite Code I first go to the website and open the Developer Console tools and refresh to view all of the network connections. I inspect each and the contents…","html":"<h4>Invite Code</h4>\n<p>I first go to the website and open the Developer Console tools and refresh to view all of the network connections. I inspect each and the contents that are transferred but don’t see any useful information. I also inspect all of the files being loaded and content on the page.</p>\n<p>Based on the lesson from Week 7, I try hacking in through modifying the form but only get this message:\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/068865db877e9e99bf66ac553f4b28dc/8e816/final1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 440px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 53.18181818181819%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABxElEQVQoz3WSyW4bMQyG/RpFEs8iaRaNZt+8zNix06BBLy2CFkURtCnSXPL+D/CXkmzP5NDDB1ILf5ISF57guHHFDG64dpixS0/ADwRcTjBOWF/HLT0bq62+p1noS3qDRRw8tgcej8ACaezVkuHKcQmHghk+XLsmmcv/I6g3WMhRjz6KwUHZlfj7+oZfzy8Y9kd8ffyOp9/P+PH0E18ev+HPyyvyqqVE/kmEv+ts4VCFPglWJFgNHqJMot/couo2SMsWRb3C/niPbruGyisj5ovo8hxzjGCgGLyAUcuMhO27uSx617bGYT616piWdXU3pzeeY1rWD66qDGGSI4gLxGmJSJUXa0gKJFSdJk4ryKw2NpS5QcTpVKHLA8i8JtEaedNhu7/HajxiPd4Zu//4Gf32gH44YDx+otZvsbt7IP+BEjQGnXQSpDGQWQNVNEhJNCmmKtr1Ds1qpERrtJsd6n4wZ2dsXGv8S8sOC8ymKjuiRUZVpvTwKa3Pldb9aPzVeKCK6G7RnbD3dPKZoACPEohIIUgIaRGxot+UNNTSnGufhRKhUrSek9LnJdPY2DniZmhdbtG+w9hpYCdsFdOdc9z8l/8BREpIy3EKYygAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Form\"\n        title=\"\"\n        src=\"/blog/static/068865db877e9e99bf66ac553f4b28dc/8e816/final1.png\"\n        srcset=\"/blog/static/068865db877e9e99bf66ac553f4b28dc/e5da5/final1.png 148w,\n/blog/static/068865db877e9e99bf66ac553f4b28dc/2629f/final1.png 295w,\n/blog/static/068865db877e9e99bf66ac553f4b28dc/8e816/final1.png 440w\"\n        sizes=\"(max-width: 440px) 100vw, 440px\"\n      />\n  </span>\n  </a></p>\n<p>I do see a javascript file being loaded called ’<a href=\"https://www.hackthebox.eu/js/inviteapi.min.js\">/js/inviteapi.min.js</a>’ which looks like a minified javascript file. I execute this script in jsbin.com but change “return p” to “console.log(p)” to see what it says:\n<code class=\"language-text\">&quot;function verifyInviteCode(code){var formData={\\&quot;code\\&quot;:code};$.ajax({type:\\&quot;POST\\&quot;,dataType:\\&quot;json\\&quot;,data:formData,url:&#39;/api/invite/verify&#39;,success:function(response){console.log(response)},error:function(response){console.log(response)}})}function makeInviteCode(){$.ajax({type:\\&quot;POST\\&quot;,dataType:\\&quot;json\\&quot;,url:&#39;/api/invite/how/to/generate&#39;,success:function(response){console.log(response)},error:function(response){console.log(response)}})}&quot;</code></p>\n<p>Here I see maybe I should do a CURL Post request to <code class=\"language-text\">/api/invite/how/to/generate</code>!</p>\n<p>This gives me <code class=\"language-text\">{&quot;success&quot;:1,&quot;data&quot;:{&quot;data&quot;:&quot;SW4gb3JkZXIgdG8gZ2VuZXJhdGUgdGhlIGludml0ZSBjb2RlLCBtYWtlIGEgUE9TVCByZXF1ZXN0IHRvIC9hcGkvaW52aXRlL2dlbmVyYXRl&quot;,&quot;enctype&quot;:&quot;BASE64&quot;},&quot;0&quot;:200}</code>. I try that code but it doesn’t work, so I see it also says “BASE64” so I try decoding it and find out it decodes to “In order to generate the invite code, make a POST request to /api/invite/generate”. I do a CURL POST to <code class=\"language-text\">/api/invite/generate</code> and get the response <code class=\"language-text\">{&quot;success&quot;:1,&quot;data&quot;:{&quot;code&quot;:&quot;VFZJVk4tQVdFWEctWlpWUVMtWUdSSkgtR0FDV0c=&quot;,&quot;format&quot;:&quot;encoded&quot;},&quot;0&quot;:200}</code>. I try that code, but that doesn’t work, so I also BASE64 decode that to get <code class=\"language-text\">TVIVN-AWEXG-ZZVQS-YGRJH-GACWG</code>. That works!</p>","frontmatter":{"title":"Thoughts on Hacking Challenges (Final for Defense Against the Dark Arts)","date":"February 07, 2019","tags":["school","security"]}}},"pageContext":{"slug":"/security-final/","previous":{"fields":{"slug":"/security-software/"},"frontmatter":{"title":"Thoughts on Software Vulnerabilities (Defense Against the Dark Arts)","tags":["school","security"]}},"next":{"fields":{"slug":"/security-windows/"},"frontmatter":{"title":"Thoughts on Windows Internals (Defense Against the Dark Arts)","tags":["school","security"]}}}}